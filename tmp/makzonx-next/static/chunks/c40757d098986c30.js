(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,66780,e=>{e.v({card:"page-module__Bnw0hW__card",checkboxGroup:"page-module__Bnw0hW__checkboxGroup",container:"page-module__Bnw0hW__container",error:"page-module__Bnw0hW__error",form:"page-module__Bnw0hW__form",header:"page-module__Bnw0hW__header",inputGroup:"page-module__Bnw0hW__inputGroup",roleBtn:"page-module__Bnw0hW__roleBtn",roleBtnActive:"page-module__Bnw0hW__roleBtnActive",roleToggle:"page-module__Bnw0hW__roleToggle",submitBtn:"page-module__Bnw0hW__submitBtn",subtitle:"page-module__Bnw0hW__subtitle",title:"page-module__Bnw0hW__title"})},66606,e=>{"use strict";var a=e.i(43476),l=e.i(71645),t=e.i(18566),r=e.i(32341);e.i(36180);var i=e.i(98925),n=e.i(59141),s=e.i(66780),o=e.i(78456),u=e.i(63209),d=e.i(46932);function c(){let{user:e,userData:c,loading:p}=(0,r.useAuth)(),m=(0,t.useRouter)(),[h,g]=(0,l.useState)("company"),[x,f]=(0,l.useState)(!1),[v,_]=(0,l.useState)(""),[j,y]=(0,l.useState)(""),[b,N]=(0,l.useState)(""),[C,B]=(0,l.useState)(""),[w,A]=(0,l.useState)(""),[S,F]=(0,l.useState)(""),[G,W]=(0,l.useState)(!1),[T,k]=(0,l.useState)(""),[q,P]=(0,l.useState)("");(0,l.useEffect)(()=>{!p&&c?.profileCompleted&&m.push("/"),p||e||m.push("/"),e?.displayName&&!T&&k(e.displayName)},[e,c,p,m,T]);let U=async a=>{if(a.preventDefault(),_(""),f(!0),e)try{let a=(0,i.doc)(n.db,"users",e.uid),l={profileCompleted:!0,accountType:h,phone:S,preferUsername:"company"!==h||G,username:"company"!==h||G?q:null,displayName:"individual"===h?T:G&&q?q:j};"company"===h?(l.companyName=j,l.industry=b,l.taxId=C,l.countryAddress=w):l.fullName=T,await (0,i.updateDoc)(a,l),window.location.href="/"}catch(e){console.error("Error saving profile",e),_("Failed to save profile. Please try again."),f(!1)}};return p||!e||c?.profileCompleted?(0,a.jsx)("div",{className:s.default.container,children:"Loading..."}):(0,a.jsx)("div",{className:s.default.container,children:(0,a.jsxs)(d.motion.div,{className:s.default.card,initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,a.jsxs)("div",{className:s.default.header,children:[(0,a.jsx)("h1",{className:s.default.title,children:"Complete Your Profile"}),(0,a.jsx)("p",{className:s.default.subtitle,children:"Tell us a bit about yourself to get started."})]}),v&&(0,a.jsxs)("div",{className:s.default.error,children:[(0,a.jsx)(u.AlertCircle,{size:16,style:{display:"inline",marginRight:"8px",verticalAlign:"text-bottom"}}),v]}),(0,a.jsxs)("div",{className:s.default.roleToggle,children:[(0,a.jsx)("button",{className:`${s.default.roleBtn} ${"company"===h?s.default.roleBtnActive:""}`,onClick:()=>g("company"),children:"Company"}),(0,a.jsx)("button",{className:`${s.default.roleBtn} ${"individual"===h?s.default.roleBtnActive:""}`,onClick:()=>g("individual"),children:"Individual"})]}),(0,a.jsxs)("form",{onSubmit:U,className:s.default.form,children:["company"===h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:s.default.inputGroup,children:[(0,a.jsx)("label",{htmlFor:"companyName",children:"Company Name *"}),(0,a.jsx)("input",{id:"companyName",value:j,onChange:e=>y(e.target.value),required:!0,placeholder:"Acme Corp"})]}),(0,a.jsxs)("div",{className:s.default.inputGroup,children:[(0,a.jsx)("label",{htmlFor:"industry",children:"Industry *"}),(0,a.jsx)("input",{id:"industry",value:b,onChange:e=>N(e.target.value),required:!0,placeholder:"Manufacturing, Logistics, etc."})]}),(0,a.jsxs)("div",{className:s.default.inputGroup,children:[(0,a.jsx)("label",{htmlFor:"countryAddress",children:"Country & Address *"}),(0,a.jsx)("input",{id:"countryAddress",value:w,onChange:e=>A(e.target.value),required:!0,placeholder:"Cairo, Egypt"})]}),(0,a.jsxs)("div",{className:s.default.inputGroup,children:[(0,a.jsx)("label",{htmlFor:"taxId",children:"Company Registration / Tax ID (Optional)"}),(0,a.jsx)("input",{id:"taxId",value:C,onChange:e=>B(e.target.value),placeholder:"Registration Number"})]}),(0,a.jsxs)("div",{className:s.default.inputGroup,children:[(0,a.jsx)("label",{htmlFor:"phone",children:"Phone Number *"}),(0,a.jsx)("input",{id:"phone",type:"tel",value:S,onChange:e=>F(e.target.value),required:!0,placeholder:"+20 100 000 0000"})]}),(0,a.jsxs)("div",{className:s.default.checkboxGroup,children:[(0,a.jsx)("input",{type:"checkbox",id:"preferUsername",checked:G,onChange:e=>W(e.target.checked)}),(0,a.jsx)("label",{htmlFor:"preferUsername",children:"Prefer to use a public Username instead of Company Name"})]}),G&&(0,a.jsxs)(d.motion.div,{className:s.default.inputGroup,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:[(0,a.jsx)("label",{htmlFor:"username",children:"Username *"}),(0,a.jsx)("input",{id:"username",value:q,onChange:e=>P(e.target.value),required:G,placeholder:"e.g. AcmeSurplus"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:s.default.inputGroup,children:[(0,a.jsx)("label",{htmlFor:"fullName",children:"Full Name *"}),(0,a.jsx)("input",{id:"fullName",value:T,onChange:e=>k(e.target.value),required:!0,placeholder:"John Doe"})]}),(0,a.jsxs)("div",{className:s.default.inputGroup,children:[(0,a.jsx)("label",{htmlFor:"username",children:"Username *"}),(0,a.jsx)("input",{id:"username",value:q,onChange:e=>P(e.target.value),required:!0,placeholder:"johndoe123"})]}),(0,a.jsxs)("div",{className:s.default.inputGroup,children:[(0,a.jsx)("label",{htmlFor:"phone",children:"Phone Number *"}),(0,a.jsx)("input",{id:"phone",type:"tel",value:S,onChange:e=>F(e.target.value),required:!0,placeholder:"+20 100 000 0000"})]})]}),(0,a.jsxs)("button",{type:"submit",className:s.default.submitBtn,disabled:x,style:{position:"relative",overflow:"hidden"},children:[x?"Saving...":"Complete Profile",!x&&(0,a.jsx)(o.default,{})]})]})]})})}e.s(["default",()=>c])}]);