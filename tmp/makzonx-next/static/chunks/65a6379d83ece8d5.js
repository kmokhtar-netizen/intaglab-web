(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72520,a=>{"use strict";let e=(0,a.i(75254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>e],72520)},85149,a=>{"use strict";let e={cairo:"Cairo",alexandria:"Alexandria",giza:"Giza",shubra_el_kheima:"Shubra El-Kheima",port_said:"Port Said",suez:"Suez",luxor:"Luxor",mansoura:"Mansoura",el_mahalla_el_kubra:"El-Mahalla El-Kubra",tanta:"Tanta",asyut:"Asyut",ismailia:"Ismailia",fayyum:"Fayyum",zagazig:"Zagazig",aswan:"Aswan",damietta:"Damietta",damanhur:"Damanhur",minya:"Minya",beni_suef:"Beni Suef",qena:"Qena",sohag:"Sohag",hurghada:"Hurghada",sixth_of_october:"6th of October",shibin_el_kom:"Shibin El Kom",banha:"Banha",kafr_el_sheikh:"Kafr El-Sheikh",arish:"Arish",mallawi:"Mallawi",tenth_of_ramadan:"10th of Ramadan",bilbais:"Bilbais",marsa_matruh:"Marsa Matruh",idfu:"Idfu",mit_ghamr:"Mit Ghamr",al_hamidiyya:"Al-Hamidiyya",desouk:"Desouk",qalyub:"Qalyub",abu_kabir:"Abu Kabir",kafr_el_dawar:"Kafr El-Dawar",girga:"Girga",akhmim:"Akhmim",matareya:"Matareya"},t={textiles_garments:"Textiles & Garments",food_beverage:"Food & Beverage",construction_building:"Construction & Building Materials",chemicals_petrochemicals:"Chemicals & Petrochemicals",pharmaceuticals_medical:"Pharmaceuticals & Medical",metal_steel:"Metal & Steel",plastic_rubber:"Plastics & Rubber",engineering_manufacturing:"Engineering & Manufacturing",automotive_transportation:"Automotive & Transportation",electronics_appliances:"Electronics & Appliances",energy_renewable:"Energy & Renewable Power",paper_packaging:"Paper & Packaging",furniture_wood:"Furniture & Woodworking",mining_quarrying:"Mining & Quarrying",agriculture_farming:"Agriculture & Farming",other:"Other"},s={cnc_machining:"CNC Machining",injection_molding:"Injection Molding",printing_3d:"3D Printing",sheet_metal:"Sheet Metal Fabrication",casting:"Casting",forging:"Forging",welding:"Welding",assembly:"Assembly",quality_control:"Quality Control / Inspection",finishing:"Finishing / Surface Treatment",engineering_design:"Engineering & Design",other:"Other"};Object.values(e).sort(),Object.values(t).sort(),Object.values(s).sort(),Object.values({aluminum:"Aluminum",steel:"Steel",stainless_steel:"Stainless Steel",brass:"Brass",copper:"Copper",titanium:"Titanium",abs_plastic:"ABS Plastic",polycarbonate:"Polycarbonate",nylon:"Nylon",rubber:"Rubber",wood:"Wood",glass:"Glass",composites:"Composites"}).sort(),a.s(["CATEGORIES",0,t,"CATEGORY_IMAGES",0,{textiles_garments:"https://images.unsplash.com/photo-1534639074092-aa2c0ec224f3?auto=format&fit=crop&w=800&q=80",food_beverage:"https://images.unsplash.com/photo-1596459349887-8bc8592f801a?auto=format&fit=crop&w=800&q=80",construction_building:"https://images.unsplash.com/photo-1541888946425-d81bb19240f5?auto=format&fit=crop&w=800&q=80",chemicals_petrochemicals:"https://images.unsplash.com/photo-1563823293817-497b77ab4376?auto=format&fit=crop&w=800&q=80",pharmaceuticals_medical:"https://images.unsplash.com/photo-1581093458791-9f3c3900df4b?auto=format&fit=crop&w=800&q=80",metal_steel:"https://images.unsplash.com/photo-1504381384074-9b2f60a92986?auto=format&fit=crop&w=800&q=80",plastic_rubber:"https://images.unsplash.com/photo-1516937941344-00b4e0337589?auto=format&fit=crop&w=800&q=80",engineering_manufacturing:"https://images.unsplash.com/photo-1565043589221-1a6fd9ae45c7?auto=format&fit=crop&w=800&q=80",automotive_transportation:"https://images.unsplash.com/photo-1503376763036-066120622c74?auto=format&fit=crop&w=800&q=80",electronics_appliances:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&w=800&q=80",energy_renewable:"https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?auto=format&fit=crop&w=800&q=80",paper_packaging:"https://images.unsplash.com/photo-1605663864774-748f5f858a08?auto=format&fit=crop&w=800&q=80",furniture_wood:"https://images.unsplash.com/photo-1611082348555-467406a4897c?auto=format&fit=crop&w=800&q=80",mining_quarrying:"https://images.unsplash.com/photo-1524514652237-773a76e0be0d?auto=format&fit=crop&w=800&q=80",agriculture_farming:"https://images.unsplash.com/photo-1625246333195-09d9b11d7013?auto=format&fit=crop&w=800&q=80",other:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=800&q=80"},"CITIES",0,e,"MANUFACTURING_SERVICES",0,s])},31278,a=>{"use strict";let e=(0,a.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>e],31278)},43531,a=>{"use strict";let e=(0,a.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>e],43531)},98919,a=>{"use strict";let e=(0,a.i(75254).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>e],98919)},72906,a=>{"use strict";var e=a.i(43476),t=a.i(71645),s=a.i(22016),i=a.i(59141);a.i(36180);var l=a.i(98925),r=a.i(31278);let n=(0,a.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var c=a.i(69638),d=a.i(61911),o=a.i(98919),u=a.i(43531),m=a.i(37727),h=a.i(78583),p=a.i(72520),f=a.i(32341),g=a.i(85149),v=a.i(33792);function b(){let{user:a}=(0,f.useAuth)(),[b,x]=(0,t.useState)({pending:0,approved:0,users:0,admins:0}),[j,y]=(0,t.useState)([]),[_,N]=(0,t.useState)(!0),[w,A]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{try{let a=(0,l.collection)(i.db,"products"),e=(0,l.collection)(i.db,"users"),[t,s,r,n]=await Promise.all([(0,l.getCountFromServer)((0,l.query)(a,(0,l.where)("status","==","pending"))),(0,l.getCountFromServer)((0,l.query)(a,(0,l.where)("status","==","approved"))),(0,l.getCountFromServer)(e),(0,l.getCountFromServer)((0,l.query)(e,(0,l.where)("role","==","admin")))]);x({pending:t.data().count,approved:s.data().count,users:r.data().count,admins:n.data().count});let c=(0,l.query)(a,(0,l.where)("status","==","pending"),(0,l.orderBy)("createdAt","desc"),(0,l.limit)(5)),d=await (0,l.getDocs)(c),o=[];d.forEach(a=>{o.push({id:a.id,...a.data()})}),y(o)}catch(a){console.error("Error fetching admin data:",a)}finally{N(!1)}})()},[]);let k=async(e,t)=>{A(e);try{await (0,l.updateDoc)((0,l.doc)(i.db,"products",e),{status:t,reviewedBy:a?.uid,reviewedAt:(0,l.serverTimestamp)()}),y(a=>a.filter(a=>a.id!==e)),x(a=>({...a,pending:a.pending-1,approved:"approved"===t?a.approved+1:a.approved}))}catch(a){console.error("Error updating post:",a)}finally{A(null)}};return _?(0,e.jsx)("div",{className:v.default.loaderWrap,children:(0,e.jsx)(r.Loader2,{className:v.default.spinner,size:36,style:{animation:"spin 1s linear infinite"}})}):(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:v.default.pageHeader,children:[(0,e.jsx)("h1",{className:v.default.pageTitle,children:"Dashboard"}),(0,e.jsx)("p",{className:v.default.pageSubtitle,children:"Platform overview and quick actions"})]}),(0,e.jsxs)("div",{className:v.default.statsGrid,children:[(0,e.jsxs)("div",{className:v.default.statCard,children:[(0,e.jsx)("div",{className:`${v.default.statIconWrap} ${v.default.statIconYellow}`,children:(0,e.jsx)(n,{size:22})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:v.default.statLabel,children:"Pending Posts"}),(0,e.jsx)("div",{className:v.default.statValue,children:b.pending})]})]}),(0,e.jsxs)("div",{className:v.default.statCard,children:[(0,e.jsx)("div",{className:`${v.default.statIconWrap} ${v.default.statIconGreen}`,children:(0,e.jsx)(c.CheckCircle,{size:22})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:v.default.statLabel,children:"Active Listings"}),(0,e.jsx)("div",{className:v.default.statValue,children:b.approved})]})]}),(0,e.jsxs)("div",{className:v.default.statCard,children:[(0,e.jsx)("div",{className:`${v.default.statIconWrap} ${v.default.statIconBlue}`,children:(0,e.jsx)(d.Users,{size:22})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:v.default.statLabel,children:"Total Users"}),(0,e.jsx)("div",{className:v.default.statValue,children:b.users})]})]}),(0,e.jsxs)("div",{className:v.default.statCard,children:[(0,e.jsx)("div",{className:`${v.default.statIconWrap} ${v.default.statIconPurple}`,children:(0,e.jsx)(o.Shield,{size:22})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:v.default.statLabel,children:"Admins"}),(0,e.jsx)("div",{className:v.default.statValue,children:b.admins})]})]})]}),(0,e.jsxs)("div",{className:v.default.dashboardGrid,children:[(0,e.jsxs)("div",{className:v.default.card,children:[(0,e.jsxs)("div",{className:v.default.cardHeader,children:[(0,e.jsx)("span",{className:v.default.cardTitle,children:"Pending Review"}),(0,e.jsxs)(s.default,{href:"/admin/posts",className:v.default.cardLink,children:["View all ",(0,e.jsx)(p.ArrowRight,{size:14,style:{display:"inline",verticalAlign:"middle"}})]})]}),(0,e.jsx)("div",{className:v.default.cardBody,children:0===j.length?(0,e.jsx)("div",{className:v.default.emptyState,children:"No posts pending review"}):j.map(a=>(0,e.jsxs)("div",{className:v.default.recentPostItem,children:[(0,e.jsx)("img",{src:a.images?.length>0?a.images[0]:g.CATEGORY_IMAGES[a.category||"other"]||g.CATEGORY_IMAGES.other,alt:"",className:v.default.recentPostImage}),(0,e.jsxs)("div",{className:v.default.recentPostInfo,children:[(0,e.jsx)("div",{className:v.default.recentPostTitle,children:a.description_en||a.description}),(0,e.jsxs)("div",{className:v.default.recentPostMeta,children:[a.listingType," Â· ",a.price," ",a.currency]})]}),(0,e.jsxs)("div",{className:v.default.recentPostActions,children:[(0,e.jsx)("button",{className:v.default.actionBtnApprove,onClick:()=>k(a.id,"approved"),disabled:w===a.id,title:"Approve",children:w===a.id?(0,e.jsx)(r.Loader2,{size:14,style:{animation:"spin 1s linear infinite"}}):(0,e.jsx)(u.Check,{size:14})}),(0,e.jsx)("button",{className:v.default.actionBtnReject,onClick:()=>k(a.id,"rejected"),disabled:w===a.id,title:"Reject",children:(0,e.jsx)(m.X,{size:14})})]})]},a.id))})]}),(0,e.jsxs)("div",{className:v.default.card,children:[(0,e.jsx)("div",{className:v.default.cardHeader,children:(0,e.jsx)("span",{className:v.default.cardTitle,children:"Quick Actions"})}),(0,e.jsx)("div",{className:v.default.cardBody,children:(0,e.jsxs)("div",{className:v.default.quickActionsList,children:[(0,e.jsxs)(s.default,{href:"/admin/posts",className:v.default.quickAction,children:[(0,e.jsx)("div",{className:`${v.default.quickActionIcon} ${v.default.statIconYellow}`,children:(0,e.jsx)(h.FileText,{size:18})}),"Review Pending Posts",b.pending>0&&(0,e.jsx)("span",{className:v.default.navBadge,children:b.pending})]}),(0,e.jsxs)(s.default,{href:"/admin/users",className:v.default.quickAction,children:[(0,e.jsx)("div",{className:`${v.default.quickActionIcon} ${v.default.statIconBlue}`,children:(0,e.jsx)(d.Users,{size:18})}),"Manage Users"]}),(0,e.jsxs)(s.default,{href:"/sell",className:v.default.quickAction,children:[(0,e.jsx)("div",{className:`${v.default.quickActionIcon} ${v.default.statIconGreen}`,children:(0,e.jsx)(c.CheckCircle,{size:18})}),"Create New Listing"]})]})})]})]})]})}a.s(["default",()=>b],72906)}]);