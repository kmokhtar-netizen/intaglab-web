module.exports=[32860,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],32860)},21007,a=>{"use strict";let b={cairo:"Cairo",alexandria:"Alexandria",giza:"Giza",shubra_el_kheima:"Shubra El-Kheima",port_said:"Port Said",suez:"Suez",luxor:"Luxor",mansoura:"Mansoura",el_mahalla_el_kubra:"El-Mahalla El-Kubra",tanta:"Tanta",asyut:"Asyut",ismailia:"Ismailia",fayyum:"Fayyum",zagazig:"Zagazig",aswan:"Aswan",damietta:"Damietta",damanhur:"Damanhur",minya:"Minya",beni_suef:"Beni Suef",qena:"Qena",sohag:"Sohag",hurghada:"Hurghada",sixth_of_october:"6th of October",shibin_el_kom:"Shibin El Kom",banha:"Banha",kafr_el_sheikh:"Kafr El-Sheikh",arish:"Arish",mallawi:"Mallawi",tenth_of_ramadan:"10th of Ramadan",bilbais:"Bilbais",marsa_matruh:"Marsa Matruh",idfu:"Idfu",mit_ghamr:"Mit Ghamr",al_hamidiyya:"Al-Hamidiyya",desouk:"Desouk",qalyub:"Qalyub",abu_kabir:"Abu Kabir",kafr_el_dawar:"Kafr El-Dawar",girga:"Girga",akhmim:"Akhmim",matareya:"Matareya"},c={textiles_garments:"Textiles & Garments",food_beverage:"Food & Beverage",construction_building:"Construction & Building Materials",chemicals_petrochemicals:"Chemicals & Petrochemicals",pharmaceuticals_medical:"Pharmaceuticals & Medical",metal_steel:"Metal & Steel",plastic_rubber:"Plastics & Rubber",engineering_manufacturing:"Engineering & Manufacturing",automotive_transportation:"Automotive & Transportation",electronics_appliances:"Electronics & Appliances",energy_renewable:"Energy & Renewable Power",paper_packaging:"Paper & Packaging",furniture_wood:"Furniture & Woodworking",mining_quarrying:"Mining & Quarrying",agriculture_farming:"Agriculture & Farming",other:"Other"},d={cnc_machining:"CNC Machining",injection_molding:"Injection Molding",printing_3d:"3D Printing",sheet_metal:"Sheet Metal Fabrication",casting:"Casting",forging:"Forging",welding:"Welding",assembly:"Assembly",quality_control:"Quality Control / Inspection",finishing:"Finishing / Surface Treatment",engineering_design:"Engineering & Design",other:"Other"};Object.values(b).sort(),Object.values(c).sort(),Object.values(d).sort(),Object.values({aluminum:"Aluminum",steel:"Steel",stainless_steel:"Stainless Steel",brass:"Brass",copper:"Copper",titanium:"Titanium",abs_plastic:"ABS Plastic",polycarbonate:"Polycarbonate",nylon:"Nylon",rubber:"Rubber",wood:"Wood",glass:"Glass",composites:"Composites"}).sort(),a.s(["CATEGORIES",0,c,"CATEGORY_IMAGES",0,{textiles_garments:"https://images.unsplash.com/photo-1534639074092-aa2c0ec224f3?auto=format&fit=crop&w=800&q=80",food_beverage:"https://images.unsplash.com/photo-1596459349887-8bc8592f801a?auto=format&fit=crop&w=800&q=80",construction_building:"https://images.unsplash.com/photo-1541888946425-d81bb19240f5?auto=format&fit=crop&w=800&q=80",chemicals_petrochemicals:"https://images.unsplash.com/photo-1563823293817-497b77ab4376?auto=format&fit=crop&w=800&q=80",pharmaceuticals_medical:"https://images.unsplash.com/photo-1581093458791-9f3c3900df4b?auto=format&fit=crop&w=800&q=80",metal_steel:"https://images.unsplash.com/photo-1504381384074-9b2f60a92986?auto=format&fit=crop&w=800&q=80",plastic_rubber:"https://images.unsplash.com/photo-1516937941344-00b4e0337589?auto=format&fit=crop&w=800&q=80",engineering_manufacturing:"https://images.unsplash.com/photo-1565043589221-1a6fd9ae45c7?auto=format&fit=crop&w=800&q=80",automotive_transportation:"https://images.unsplash.com/photo-1503376763036-066120622c74?auto=format&fit=crop&w=800&q=80",electronics_appliances:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&w=800&q=80",energy_renewable:"https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?auto=format&fit=crop&w=800&q=80",paper_packaging:"https://images.unsplash.com/photo-1605663864774-748f5f858a08?auto=format&fit=crop&w=800&q=80",furniture_wood:"https://images.unsplash.com/photo-1611082348555-467406a4897c?auto=format&fit=crop&w=800&q=80",mining_quarrying:"https://images.unsplash.com/photo-1524514652237-773a76e0be0d?auto=format&fit=crop&w=800&q=80",agriculture_farming:"https://images.unsplash.com/photo-1625246333195-09d9b11d7013?auto=format&fit=crop&w=800&q=80",other:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=800&q=80"},"CITIES",0,b,"MANUFACTURING_SERVICES",0,d])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},33441,a=>{"use strict";let b=(0,a.i(70106).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],33441)},3314,a=>{"use strict";let b=(0,a.i(70106).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>b],3314)},10179,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(20237);a.i(69387);var f=a.i(60574),g=a.i(96221);let h=(0,a.i(70106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var i=a.i(16201),j=a.i(60246),k=a.i(3314),l=a.i(33441),m=a.i(33508),n=a.i(4720),o=a.i(32860),p=a.i(56025),q=a.i(21007),r=a.i(87552);function s(){let{user:a}=(0,p.useAuth)(),[s,t]=(0,c.useState)({pending:0,approved:0,users:0,admins:0}),[u,v]=(0,c.useState)([]),[w,x]=(0,c.useState)(!0),[y,z]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{let a=(0,f.collection)(e.db,"products"),b=(0,f.collection)(e.db,"users"),[c,d,g,h]=await Promise.all([(0,f.getCountFromServer)((0,f.query)(a,(0,f.where)("status","==","pending"))),(0,f.getCountFromServer)((0,f.query)(a,(0,f.where)("status","==","approved"))),(0,f.getCountFromServer)(b),(0,f.getCountFromServer)((0,f.query)(b,(0,f.where)("role","==","admin")))]);t({pending:c.data().count,approved:d.data().count,users:g.data().count,admins:h.data().count});let i=(0,f.query)(a,(0,f.where)("status","==","pending"),(0,f.orderBy)("createdAt","desc"),(0,f.limit)(5)),j=await (0,f.getDocs)(i),k=[];j.forEach(a=>{k.push({id:a.id,...a.data()})}),v(k)}catch(a){console.error("Error fetching admin data:",a)}finally{x(!1)}})()},[]);let A=async(b,c)=>{z(b);try{await (0,f.updateDoc)((0,f.doc)(e.db,"products",b),{status:c,reviewedBy:a?.uid,reviewedAt:(0,f.serverTimestamp)()}),v(a=>a.filter(a=>a.id!==b)),t(a=>({...a,pending:a.pending-1,approved:"approved"===c?a.approved+1:a.approved}))}catch(a){console.error("Error updating post:",a)}finally{z(null)}};return w?(0,b.jsx)("div",{className:r.default.loaderWrap,children:(0,b.jsx)(g.Loader2,{className:r.default.spinner,size:36,style:{animation:"spin 1s linear infinite"}})}):(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:r.default.pageHeader,children:[(0,b.jsx)("h1",{className:r.default.pageTitle,children:"Dashboard"}),(0,b.jsx)("p",{className:r.default.pageSubtitle,children:"Platform overview and quick actions"})]}),(0,b.jsxs)("div",{className:r.default.statsGrid,children:[(0,b.jsxs)("div",{className:r.default.statCard,children:[(0,b.jsx)("div",{className:`${r.default.statIconWrap} ${r.default.statIconYellow}`,children:(0,b.jsx)(h,{size:22})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:r.default.statLabel,children:"Pending Posts"}),(0,b.jsx)("div",{className:r.default.statValue,children:s.pending})]})]}),(0,b.jsxs)("div",{className:r.default.statCard,children:[(0,b.jsx)("div",{className:`${r.default.statIconWrap} ${r.default.statIconGreen}`,children:(0,b.jsx)(i.CheckCircle,{size:22})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:r.default.statLabel,children:"Active Listings"}),(0,b.jsx)("div",{className:r.default.statValue,children:s.approved})]})]}),(0,b.jsxs)("div",{className:r.default.statCard,children:[(0,b.jsx)("div",{className:`${r.default.statIconWrap} ${r.default.statIconBlue}`,children:(0,b.jsx)(j.Users,{size:22})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:r.default.statLabel,children:"Total Users"}),(0,b.jsx)("div",{className:r.default.statValue,children:s.users})]})]}),(0,b.jsxs)("div",{className:r.default.statCard,children:[(0,b.jsx)("div",{className:`${r.default.statIconWrap} ${r.default.statIconPurple}`,children:(0,b.jsx)(k.Shield,{size:22})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:r.default.statLabel,children:"Admins"}),(0,b.jsx)("div",{className:r.default.statValue,children:s.admins})]})]})]}),(0,b.jsxs)("div",{className:r.default.dashboardGrid,children:[(0,b.jsxs)("div",{className:r.default.card,children:[(0,b.jsxs)("div",{className:r.default.cardHeader,children:[(0,b.jsx)("span",{className:r.default.cardTitle,children:"Pending Review"}),(0,b.jsxs)(d.default,{href:"/admin/posts",className:r.default.cardLink,children:["View all ",(0,b.jsx)(o.ArrowRight,{size:14,style:{display:"inline",verticalAlign:"middle"}})]})]}),(0,b.jsx)("div",{className:r.default.cardBody,children:0===u.length?(0,b.jsx)("div",{className:r.default.emptyState,children:"No posts pending review"}):u.map(a=>(0,b.jsxs)("div",{className:r.default.recentPostItem,children:[(0,b.jsx)("img",{src:a.images?.length>0?a.images[0]:q.CATEGORY_IMAGES[a.category||"other"]||q.CATEGORY_IMAGES.other,alt:"",className:r.default.recentPostImage}),(0,b.jsxs)("div",{className:r.default.recentPostInfo,children:[(0,b.jsx)("div",{className:r.default.recentPostTitle,children:a.description_en||a.description}),(0,b.jsxs)("div",{className:r.default.recentPostMeta,children:[a.listingType," Â· ",a.price," ",a.currency]})]}),(0,b.jsxs)("div",{className:r.default.recentPostActions,children:[(0,b.jsx)("button",{className:r.default.actionBtnApprove,onClick:()=>A(a.id,"approved"),disabled:y===a.id,title:"Approve",children:y===a.id?(0,b.jsx)(g.Loader2,{size:14,style:{animation:"spin 1s linear infinite"}}):(0,b.jsx)(l.Check,{size:14})}),(0,b.jsx)("button",{className:r.default.actionBtnReject,onClick:()=>A(a.id,"rejected"),disabled:y===a.id,title:"Reject",children:(0,b.jsx)(m.X,{size:14})})]})]},a.id))})]}),(0,b.jsxs)("div",{className:r.default.card,children:[(0,b.jsx)("div",{className:r.default.cardHeader,children:(0,b.jsx)("span",{className:r.default.cardTitle,children:"Quick Actions"})}),(0,b.jsx)("div",{className:r.default.cardBody,children:(0,b.jsxs)("div",{className:r.default.quickActionsList,children:[(0,b.jsxs)(d.default,{href:"/admin/posts",className:r.default.quickAction,children:[(0,b.jsx)("div",{className:`${r.default.quickActionIcon} ${r.default.statIconYellow}`,children:(0,b.jsx)(n.FileText,{size:18})}),"Review Pending Posts",s.pending>0&&(0,b.jsx)("span",{className:r.default.navBadge,children:s.pending})]}),(0,b.jsxs)(d.default,{href:"/admin/users",className:r.default.quickAction,children:[(0,b.jsx)("div",{className:`${r.default.quickActionIcon} ${r.default.statIconBlue}`,children:(0,b.jsx)(j.Users,{size:18})}),"Manage Users"]}),(0,b.jsxs)(d.default,{href:"/sell",className:r.default.quickAction,children:[(0,b.jsx)("div",{className:`${r.default.quickActionIcon} ${r.default.statIconGreen}`,children:(0,b.jsx)(i.CheckCircle,{size:18})}),"Create New Listing"]})]})})]})]})]})}a.s(["default",()=>s],10179)}];

//# sourceMappingURL=_abd28570._.js.map