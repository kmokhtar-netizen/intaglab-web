module.exports=[18625,a=>{a.v({card:"page-module__Bnw0hW__card",checkboxGroup:"page-module__Bnw0hW__checkboxGroup",container:"page-module__Bnw0hW__container",error:"page-module__Bnw0hW__error",form:"page-module__Bnw0hW__form",header:"page-module__Bnw0hW__header",inputGroup:"page-module__Bnw0hW__inputGroup",roleBtn:"page-module__Bnw0hW__roleBtn",roleBtnActive:"page-module__Bnw0hW__roleBtnActive",roleToggle:"page-module__Bnw0hW__roleToggle",submitBtn:"page-module__Bnw0hW__submitBtn",subtitle:"page-module__Bnw0hW__subtitle",title:"page-module__Bnw0hW__title"})},63778,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(56025);a.i(69387);var f=a.i(60574),g=a.i(20237),h=a.i(18625),i=a.i(14451),j=a.i(92e3),k=a.i(46271),l=a.i(48136);function m(){let{user:a,userData:m,loading:n}=(0,e.useAuth)(),{t:o}=(0,l.useLanguage)(),p=(0,d.useRouter)(),[q,r]=(0,c.useState)("company"),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)(""),[M,N]=(0,c.useState)("");(0,c.useEffect)(()=>{!n&&m?.profileCompleted&&p.push("/"),n||a||p.push("/"),a?.displayName&&!I&&J(a.displayName)},[a,m,n,p,I]);let O=async b=>{if(b.preventDefault(),v(""),t(!0),a)try{let b=(0,f.doc)(g.db,"users",a.uid),c={profileCompleted:!0,accountType:q,phone:E,preferUsername:"company"!==q||G,username:"company"!==q||G?K:null,displayName:"individual"===q?I:G&&K?K:w};"company"===q?(c.companyName=w,c.industry=y,c.taxId=A,c.countryAddress=C):(c.fullName=I,c.productInterests=M),await (0,f.updateDoc)(b,c),window.location.href="/"}catch(a){console.error("Error saving profile",a),v("Failed to save profile. Please try again."),t(!1)}};return n||!a||m?.profileCompleted?(0,b.jsx)("div",{className:h.default.container,children:"Loading..."}):(0,b.jsx)("div",{className:h.default.container,children:(0,b.jsxs)(k.motion.div,{className:h.default.card,initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,b.jsxs)("div",{className:h.default.header,children:[(0,b.jsx)("h1",{className:h.default.title,children:o("onboarding.title")}),(0,b.jsx)("p",{className:h.default.subtitle,children:o("onboarding.subtitle")})]}),u&&(0,b.jsxs)("div",{className:h.default.error,children:[(0,b.jsx)(j.AlertCircle,{size:16,style:{display:"inline",marginRight:"8px",verticalAlign:"text-bottom"}}),u||o("onboarding.error")]}),(0,b.jsxs)("div",{className:h.default.roleToggle,children:[(0,b.jsx)("button",{className:`${h.default.roleBtn} ${"company"===q?h.default.roleBtnActive:""}`,onClick:()=>r("company"),type:"button",children:o("onboarding.roles.company")}),(0,b.jsx)("button",{className:`${h.default.roleBtn} ${"individual"===q?h.default.roleBtnActive:""}`,onClick:()=>r("individual"),type:"button",children:o("onboarding.roles.individual")})]}),(0,b.jsxs)("form",{onSubmit:O,className:h.default.form,children:["company"===q?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsxs)("label",{htmlFor:"companyName",children:[o("onboarding.labels.companyName")," ",o("onboarding.required")]}),(0,b.jsx)("input",{id:"companyName",value:w,onChange:a=>x(a.target.value),required:!0,placeholder:o("onboarding.placeholders.companyName")})]}),(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsxs)("label",{htmlFor:"industry",children:[o("onboarding.labels.industry")," ",o("onboarding.required")]}),(0,b.jsx)("input",{id:"industry",value:y,onChange:a=>z(a.target.value),required:!0,placeholder:o("onboarding.placeholders.industry")})]}),(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsxs)("label",{htmlFor:"countryAddress",children:[o("onboarding.labels.countryAddress")," ",o("onboarding.required")]}),(0,b.jsx)("input",{id:"countryAddress",value:C,onChange:a=>D(a.target.value),required:!0,placeholder:o("onboarding.placeholders.countryAddress")})]}),(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsxs)("label",{htmlFor:"taxId",children:[o("onboarding.labels.taxId")," ",o("onboarding.optional")]}),(0,b.jsx)("input",{id:"taxId",value:A,onChange:a=>B(a.target.value),placeholder:o("onboarding.placeholders.taxId")})]}),(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsxs)("label",{htmlFor:"phone",children:[o("onboarding.labels.phone")," ",o("onboarding.required")]}),(0,b.jsx)("input",{id:"phone",type:"tel",value:E,onChange:a=>F(a.target.value),required:!0,placeholder:o("onboarding.placeholders.phone"),dir:"ltr"})]}),(0,b.jsxs)("div",{className:h.default.checkboxGroup,children:[(0,b.jsx)("input",{type:"checkbox",id:"preferUsername",checked:G,onChange:a=>H(a.target.checked)}),(0,b.jsx)("label",{htmlFor:"preferUsername",children:o("onboarding.labels.preferUsername")})]}),G&&(0,b.jsxs)(k.motion.div,{className:h.default.inputGroup,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:[(0,b.jsxs)("label",{htmlFor:"username",children:[o("onboarding.labels.username")," ",o("onboarding.required")]}),(0,b.jsx)("input",{id:"username",value:K,onChange:a=>L(a.target.value),required:G,placeholder:o("onboarding.placeholders.username"),dir:"ltr"})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsxs)("label",{htmlFor:"fullName",children:[o("onboarding.labels.fullName")," ",o("onboarding.required")]}),(0,b.jsx)("input",{id:"fullName",value:I,onChange:a=>J(a.target.value),required:!0,placeholder:o("onboarding.placeholders.fullName")})]}),(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsxs)("label",{htmlFor:"username",children:[o("onboarding.labels.username")," ",o("onboarding.required")]}),(0,b.jsx)("input",{id:"username",value:K,onChange:a=>L(a.target.value),required:!0,placeholder:o("onboarding.placeholders.username"),dir:"ltr"})]}),(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsxs)("label",{htmlFor:"productInterests",children:[o("onboarding.labels.productInterests")," ",o("onboarding.required")]}),(0,b.jsx)("textarea",{id:"productInterests",value:M,onChange:a=>N(a.target.value),required:!0,placeholder:o("onboarding.placeholders.productInterests"),style:{minHeight:"80px",resize:"vertical"}})]}),(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsxs)("label",{htmlFor:"phone",children:[o("onboarding.labels.phone")," ",o("onboarding.required")]}),(0,b.jsx)("input",{id:"phone",type:"tel",value:E,onChange:a=>F(a.target.value),required:!0,placeholder:o("onboarding.placeholders.phone"),dir:"ltr"})]})]}),(0,b.jsxs)("button",{type:"submit",className:h.default.submitBtn,disabled:s,style:{position:"relative",overflow:"hidden"},children:[o(s?"onboarding.saving":"onboarding.submit"),!s&&(0,b.jsx)(i.default,{})]})]})]})})}a.s(["default",()=>m])}];

//# sourceMappingURL=src_app_onboarding_3904bb80._.js.map