module.exports=[18625,a=>{a.v({card:"page-module__Bnw0hW__card",checkboxGroup:"page-module__Bnw0hW__checkboxGroup",container:"page-module__Bnw0hW__container",error:"page-module__Bnw0hW__error",form:"page-module__Bnw0hW__form",header:"page-module__Bnw0hW__header",inputGroup:"page-module__Bnw0hW__inputGroup",roleBtn:"page-module__Bnw0hW__roleBtn",roleBtnActive:"page-module__Bnw0hW__roleBtnActive",roleToggle:"page-module__Bnw0hW__roleToggle",submitBtn:"page-module__Bnw0hW__submitBtn",subtitle:"page-module__Bnw0hW__subtitle",title:"page-module__Bnw0hW__title"})},63778,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(56025);a.i(69387);var f=a.i(60574),g=a.i(20237),h=a.i(18625),i=a.i(14451),j=a.i(92e3),k=a.i(46271);function l(){let{user:a,userData:l,loading:m}=(0,e.useAuth)(),n=(0,d.useRouter)(),[o,p]=(0,c.useState)("company"),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)("");(0,c.useEffect)(()=>{!m&&l?.profileCompleted&&n.push("/"),m||a||n.push("/"),a?.displayName&&!G&&H(a.displayName)},[a,l,m,n,G]);let K=async b=>{if(b.preventDefault(),t(""),r(!0),a)try{let b=(0,f.doc)(g.db,"users",a.uid),c={profileCompleted:!0,accountType:o,phone:C,preferUsername:"company"!==o||E,username:"company"!==o||E?I:null,displayName:"individual"===o?G:E&&I?I:u};"company"===o?(c.companyName=u,c.industry=w,c.taxId=y,c.countryAddress=A):c.fullName=G,await (0,f.updateDoc)(b,c),window.location.href="/"}catch(a){console.error("Error saving profile",a),t("Failed to save profile. Please try again."),r(!1)}};return m||!a||l?.profileCompleted?(0,b.jsx)("div",{className:h.default.container,children:"Loading..."}):(0,b.jsx)("div",{className:h.default.container,children:(0,b.jsxs)(k.motion.div,{className:h.default.card,initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,b.jsxs)("div",{className:h.default.header,children:[(0,b.jsx)("h1",{className:h.default.title,children:"Complete Your Profile"}),(0,b.jsx)("p",{className:h.default.subtitle,children:"Tell us a bit about yourself to get started."})]}),s&&(0,b.jsxs)("div",{className:h.default.error,children:[(0,b.jsx)(j.AlertCircle,{size:16,style:{display:"inline",marginRight:"8px",verticalAlign:"text-bottom"}}),s]}),(0,b.jsxs)("div",{className:h.default.roleToggle,children:[(0,b.jsx)("button",{className:`${h.default.roleBtn} ${"company"===o?h.default.roleBtnActive:""}`,onClick:()=>p("company"),children:"Company"}),(0,b.jsx)("button",{className:`${h.default.roleBtn} ${"individual"===o?h.default.roleBtnActive:""}`,onClick:()=>p("individual"),children:"Individual"})]}),(0,b.jsxs)("form",{onSubmit:K,className:h.default.form,children:["company"===o?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsx)("label",{htmlFor:"companyName",children:"Company Name *"}),(0,b.jsx)("input",{id:"companyName",value:u,onChange:a=>v(a.target.value),required:!0,placeholder:"Acme Corp"})]}),(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsx)("label",{htmlFor:"industry",children:"Industry *"}),(0,b.jsx)("input",{id:"industry",value:w,onChange:a=>x(a.target.value),required:!0,placeholder:"Manufacturing, Logistics, etc."})]}),(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsx)("label",{htmlFor:"countryAddress",children:"Country & Address *"}),(0,b.jsx)("input",{id:"countryAddress",value:A,onChange:a=>B(a.target.value),required:!0,placeholder:"Cairo, Egypt"})]}),(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsx)("label",{htmlFor:"taxId",children:"Company Registration / Tax ID (Optional)"}),(0,b.jsx)("input",{id:"taxId",value:y,onChange:a=>z(a.target.value),placeholder:"Registration Number"})]}),(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsx)("label",{htmlFor:"phone",children:"Phone Number *"}),(0,b.jsx)("input",{id:"phone",type:"tel",value:C,onChange:a=>D(a.target.value),required:!0,placeholder:"+20 100 000 0000"})]}),(0,b.jsxs)("div",{className:h.default.checkboxGroup,children:[(0,b.jsx)("input",{type:"checkbox",id:"preferUsername",checked:E,onChange:a=>F(a.target.checked)}),(0,b.jsx)("label",{htmlFor:"preferUsername",children:"Prefer to use a public Username instead of Company Name"})]}),E&&(0,b.jsxs)(k.motion.div,{className:h.default.inputGroup,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:[(0,b.jsx)("label",{htmlFor:"username",children:"Username *"}),(0,b.jsx)("input",{id:"username",value:I,onChange:a=>J(a.target.value),required:E,placeholder:"e.g. AcmeSurplus"})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsx)("label",{htmlFor:"fullName",children:"Full Name *"}),(0,b.jsx)("input",{id:"fullName",value:G,onChange:a=>H(a.target.value),required:!0,placeholder:"John Doe"})]}),(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsx)("label",{htmlFor:"username",children:"Username *"}),(0,b.jsx)("input",{id:"username",value:I,onChange:a=>J(a.target.value),required:!0,placeholder:"johndoe123"})]}),(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsx)("label",{htmlFor:"phone",children:"Phone Number *"}),(0,b.jsx)("input",{id:"phone",type:"tel",value:C,onChange:a=>D(a.target.value),required:!0,placeholder:"+20 100 000 0000"})]})]}),(0,b.jsxs)("button",{type:"submit",className:h.default.submitBtn,disabled:q,style:{position:"relative",overflow:"hidden"},children:[q?"Saving...":"Complete Profile",!q&&(0,b.jsx)(i.default,{})]})]})]})})}a.s(["default",()=>l])}];

//# sourceMappingURL=src_app_onboarding_3904bb80._.js.map