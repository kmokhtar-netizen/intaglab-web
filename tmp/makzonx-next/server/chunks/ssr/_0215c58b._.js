module.exports=[59059,a=>{a.v({closeBtn:"AuthModal-module__kkVAJG__closeBtn",divider:"AuthModal-module__kkVAJG__divider",emailForm:"AuthModal-module__kkVAJG__emailForm",error:"AuthModal-module__kkVAJG__error",facebookBtn:"AuthModal-module__kkVAJG__facebookBtn",footer:"AuthModal-module__kkVAJG__footer",googleBtn:"AuthModal-module__kkVAJG__googleBtn",googleIcon:"AuthModal-module__kkVAJG__googleIcon",header:"AuthModal-module__kkVAJG__header",inputGroup:"AuthModal-module__kkVAJG__inputGroup",modal:"AuthModal-module__kkVAJG__modal",overlay:"AuthModal-module__kkVAJG__overlay",socialButtons:"AuthModal-module__kkVAJG__socialButtons",submitBtn:"AuthModal-module__kkVAJG__submitBtn",subtitle:"AuthModal-module__kkVAJG__subtitle",switchView:"AuthModal-module__kkVAJG__switchView",title:"AuthModal-module__kkVAJG__title"})},11955,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(56025),e=a.i(48136),f=a.i(33508),g=a.i(92e3),h=a.i(59059),i=a.i(46271),j=a.i(62036),k=a.i(14451);function l({isOpen:a,onClose:l}){let{signInWithGoogle:m,signInWithFacebook:n,signInWithEmail:o,signUpWithEmail:p}=(0,d.useAuth)(),{t:q}=(0,e.useLanguage)(),[r,s]=(0,c.useState)("signin"),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(""),B=()=>{l()},C=async()=>{try{await m(),l()}catch(a){console.error("Google Sign In Error:",a),"auth/popup-closed-by-user"===a.code?A("Sign in was cancelled."):"auth/popup-blocked"===a.code?A("Sign in popup was blocked by your browser. Please allow popups."):"auth/unauthorized-domain"===a.code?A("This domain is not authorized for OAuth operations. Please add it in the Firebase Console."):A(a.message||"Failed to sign in with Google.")}},D=async()=>{try{await n(),l()}catch(a){console.error("Facebook Sign In Error:",a),"auth/popup-closed-by-user"===a.code?A("Sign in was cancelled."):A(a.message||"Failed to sign in with Facebook.")}},E=async a=>{a.preventDefault(),A(""),y(!0);try{"signin"===r?await o(t,v):await p(t,v),l()}catch(a){console.error("Email Auth Error:",a),"auth/user-not-found"===a.code||"auth/wrong-password"===a.code||"auth/invalid-credential"===a.code?A("Invalid email or password."):"auth/email-already-in-use"===a.code?A("An account with this email already exists."):"auth/weak-password"===a.code?A("Password should be at least 6 characters."):A(a.message||"Authentication failed. Please try again.")}finally{y(!1)}};return(0,b.jsx)(j.AnimatePresence,{children:a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.motion.div,{className:h.default.overlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:B}),(0,b.jsxs)(i.motion.div,{className:h.default.modal,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},children:[(0,b.jsx)("button",{className:h.default.closeBtn,onClick:B,children:(0,b.jsx)(f.X,{size:24})}),(0,b.jsxs)("div",{className:h.default.header,children:[(0,b.jsx)("h2",{className:h.default.title,children:"signin"===r?"Welcome back":"Create an account"}),(0,b.jsx)("p",{className:h.default.subtitle,children:"signin"===r?"Sign in to list assets and manage your inventory.":"Sign up to start buying and selling industrial surplus."})]}),z&&(0,b.jsxs)("div",{className:h.default.error,children:[(0,b.jsx)(g.AlertCircle,{size:16,style:{display:"inline",marginRight:"8px",verticalAlign:"text-bottom"}}),z]}),(0,b.jsxs)("form",{onSubmit:E,className:h.default.emailForm,children:[(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsx)("label",{htmlFor:"email",children:"Email"}),(0,b.jsx)("input",{type:"email",id:"email",value:t,onChange:a=>u(a.target.value),required:!0,placeholder:"your@email.com"})]}),(0,b.jsxs)("div",{className:h.default.inputGroup,children:[(0,b.jsx)("label",{htmlFor:"password",children:"Password"}),(0,b.jsx)("input",{type:"password",id:"password",value:v,onChange:a=>w(a.target.value),required:!0,placeholder:"••••••••"})]}),(0,b.jsxs)("button",{type:"submit",className:h.default.submitBtn,disabled:x,style:{position:"relative",overflow:"hidden"},children:[x?"Processing...":"signin"===r?"Sign In":"Sign Up",!x&&(0,b.jsx)(k.default,{})]})]}),(0,b.jsx)("div",{className:h.default.divider,children:(0,b.jsx)("span",{children:"or continue with"})}),(0,b.jsxs)("div",{className:h.default.socialButtons,children:[(0,b.jsxs)("button",{onClick:C,className:h.default.googleBtn,style:{position:"relative",overflow:"hidden"},children:[(0,b.jsx)("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:h.default.googleIcon}),"Sign in with Google",(0,b.jsx)(k.default,{color:"rgba(0, 0, 0, 0.1)"})]}),(0,b.jsxs)("button",{onClick:D,className:h.default.facebookBtn,style:{position:"relative",overflow:"hidden"},children:[(0,b.jsx)("svg",{className:h.default.googleIcon,viewBox:"0 0 24 24",fill:"currentColor",children:(0,b.jsx)("path",{d:"M12 2C6.477 2 2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.879V14.89h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.989C18.343 21.128 22 16.991 22 12c0-5.523-4.477-10-10-10z"})}),"Sign in with Facebook",(0,b.jsx)(k.default,{})]})]}),(0,b.jsx)("div",{className:h.default.switchView,children:"signin"===r?(0,b.jsxs)("p",{children:["Don't have an account? ",(0,b.jsx)("button",{type:"button",onClick:()=>s("signup"),children:"Sign up"})]}):(0,b.jsxs)("p",{children:["Already have an account? ",(0,b.jsx)("button",{type:"button",onClick:()=>s("signin"),children:"Sign in"})]})}),(0,b.jsx)("div",{className:h.default.footer,children:(0,b.jsx)("p",{children:"By continuing, you agree to our Terms of Service and Privacy Policy."})})]})]})})}a.s(["default",()=>l])},62036,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(86723),e=a.i(74290),f=a.i(1703),g=a.i(14800),h=a.i(91128),i=c,j=a.i(65802);function k(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}class l extends i.Component{getSnapshotBeforeUpdate(a){let b=this.props.childRef.current;if(b&&a.isPresent&&!this.props.isPresent&&!1!==this.props.pop){let a=b.offsetParent,c=(0,h.isHTMLElement)(a)&&a.offsetWidth||0,d=(0,h.isHTMLElement)(a)&&a.offsetHeight||0,e=this.props.sizeRef.current;e.height=b.offsetHeight||0,e.width=b.offsetWidth||0,e.top=b.offsetTop,e.left=b.offsetLeft,e.right=c-e.width-e.left,e.bottom=d-e.height-e.top}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:a,isPresent:d,anchorX:e,anchorY:f,root:g,pop:h}){let m=(0,i.useId)(),n=(0,i.useRef)(null),o=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=(0,i.useContext)(j.MotionConfigContext),q=function(...a){return c.useCallback(function(...a){return b=>{let c=!1,d=a.map(a=>{let d=k(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():k(a[b],null)}}}}(...a),a)}(n,a.props?.ref??a?.ref);return(0,i.useInsertionEffect)(()=>{let{width:a,height:b,top:c,left:i,right:j,bottom:k}=o.current;if(d||!1===h||!n.current||!a||!b)return;let l="left"===e?`left: ${i}`:`right: ${j}`,q="bottom"===f?`bottom: ${k}`:`top: ${c}`;n.current.dataset.motionPopId=m;let r=document.createElement("style");p&&(r.nonce=p);let s=g??document.head;return s.appendChild(r),r.sheet&&r.sheet.insertRule(`
          [data-motion-pop-id="${m}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${b}px !important;
            ${l}px !important;
            ${q}px !important;
          }
        `),()=>{s.contains(r)&&s.removeChild(r)}},[d]),(0,b.jsx)(l,{isPresent:d,childRef:n,sizeRef:o,pop:h,children:!1===h?a:i.cloneElement(a,{ref:q})})}let n=({children:a,initial:d,isPresent:f,onExitComplete:h,custom:i,presenceAffectsLayout:j,mode:k,anchorX:l,anchorY:n,root:p})=>{let q=(0,e.useConstant)(o),r=(0,c.useId)(),s=!0,t=(0,c.useMemo)(()=>(s=!1,{id:r,initial:d,isPresent:f,custom:i,onExitComplete:a=>{for(let b of(q.set(a,!0),q.values()))if(!b)return;h&&h()},register:a=>(q.set(a,!1),()=>q.delete(a))}),[f,q,h]);return j&&s&&(t={...t}),(0,c.useMemo)(()=>{q.forEach((a,b)=>q.set(b,!1))},[f]),c.useEffect(()=>{f||q.size||!h||h()},[f]),a=(0,b.jsx)(m,{pop:"popLayout"===k,isPresent:f,anchorX:l,anchorY:n,root:p,children:a}),(0,b.jsx)(g.PresenceContext.Provider,{value:t,children:a})};function o(){return new Map}var p=a.i(20410);let q=a=>a.key||"";function r(a){let b=[];return c.Children.forEach(a,a=>{(0,c.isValidElement)(a)&&b.push(a)}),b}let s=({children:a,custom:g,initial:h=!0,onExitComplete:i,presenceAffectsLayout:j=!0,mode:k="sync",propagate:l=!1,anchorX:m="left",anchorY:o="top",root:s})=>{let[t,u]=(0,p.usePresence)(l),v=(0,c.useMemo)(()=>r(a),[a]),w=l&&!t?[]:v.map(q),x=(0,c.useRef)(!0),y=(0,c.useRef)(v),z=(0,e.useConstant)(()=>new Map),A=(0,c.useRef)(new Set),[B,C]=(0,c.useState)(v),[D,E]=(0,c.useState)(v);(0,f.useIsomorphicLayoutEffect)(()=>{x.current=!1,y.current=v;for(let a=0;a<D.length;a++){let b=q(D[a]);w.includes(b)?(z.delete(b),A.current.delete(b)):!0!==z.get(b)&&z.set(b,!1)}},[D,w.length,w.join("-")]);let F=[];if(v!==B){let a=[...v];for(let b=0;b<D.length;b++){let c=D[b],d=q(c);w.includes(d)||(a.splice(b,0,c),F.push(c))}return"wait"===k&&F.length&&(a=F),E(r(a)),C(v),null}let{forceRender:G}=(0,c.useContext)(d.LayoutGroupContext);return(0,b.jsx)(b.Fragment,{children:D.map(a=>{let c=q(a),d=(!l||!!t)&&(v===D||w.includes(c));return(0,b.jsx)(n,{isPresent:d,initial:(!x.current||!!h)&&void 0,custom:g,presenceAffectsLayout:j,mode:k,root:s,onExitComplete:d?void 0:()=>{if(A.current.has(c)||(A.current.add(c),!z.has(c)))return;z.set(c,!0);let a=!0;z.forEach(b=>{b||(a=!1)}),a&&(G?.(),E(y.current),l&&u?.(),i&&i())},anchorX:m,anchorY:o,children:a},c)})})};a.s(["AnimatePresence",()=>s],62036)},30479,a=>{a.v({ripple:"Ripple-module__6spVDW__ripple",rippleContainer:"Ripple-module__6spVDW__rippleContainer",rippleEffect:"Ripple-module__6spVDW__rippleEffect"})},14451,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30479);function e({color:a="rgba(255, 255, 255, 0.4)",duration:e=600}){let[f,g]=(0,c.useState)([]);return(0,b.jsx)("div",{className:d.default.rippleContainer,onMouseDown:a=>{let b=a.currentTarget.getBoundingClientRect(),c=b.width>b.height?b.width:b.height,d={x:a.clientX-b.left-c/2,y:a.clientY-b.top-c/2,size:c,id:Date.now()};g(a=>[...a,d])},children:f.map(c=>(0,b.jsx)("span",{className:d.default.ripple,style:{top:c.y,left:c.x,width:c.size,height:c.size,backgroundColor:a,animationDuration:`${e}ms`},onAnimationEnd:()=>{var a;return a=c.id,void g(b=>b.filter(b=>b.id!==a))}},c.id))})}a.s(["default",()=>e])},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},56025,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(30485);var d=a.i(31052);a.i(69387);var e=a.i(60574),f=a.i(20237);let g=(0,c.createContext)({});a.s(["AuthProvider",0,({children:a})=>{let[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(!0);(0,c.useEffect)(()=>{let a=(0,d.onAuthStateChanged)(f.auth,async a=>{if(a){i(a),m(!0);let b=(0,e.doc)(f.db,"users",a.uid),c=await (0,e.getDoc)(b);if(c.exists())k(c.data());else{let c={uid:a.uid,email:a.email,displayName:a.displayName,photoURL:a.photoURL,role:"user",status:"active",profileCompleted:!1};await (0,e.setDoc)(b,{...c,createdAt:(0,e.serverTimestamp)()}),k(c)}}else i(null),k(null);m(!1)});return()=>a()},[]);let n=async()=>{let a=new d.GoogleAuthProvider;try{await (0,d.signInWithPopup)(f.auth,a)}catch(a){throw console.error("Error signing in with Google",a),a}},o=async()=>{let a=new d.FacebookAuthProvider;try{await (0,d.signInWithPopup)(f.auth,a)}catch(a){throw console.error("Error signing in with Facebook",a),a}},p=async(a,b)=>{try{await (0,d.signInWithEmailAndPassword)(f.auth,a,b)}catch(a){throw console.error("Error signing in with email",a),a}},q=async(a,b)=>{try{await (0,d.createUserWithEmailAndPassword)(f.auth,a,b)}catch(a){throw console.error("Error signing up with email",a),a}},r=async()=>{try{await (0,d.signOut)(f.auth),i(null),k(null)}catch(a){console.error("Error signing out",a)}},s=j?.role==="admin";return(0,b.jsx)(g.Provider,{value:{user:h,userData:j,loading:l,isAdmin:s,signInWithGoogle:n,signInWithFacebook:o,signInWithEmail:p,signUpWithEmail:q,logout:r},children:a})},"useAuth",0,()=>(0,c.useContext)(g)])},33508,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)}];

//# sourceMappingURL=_0215c58b._.js.map